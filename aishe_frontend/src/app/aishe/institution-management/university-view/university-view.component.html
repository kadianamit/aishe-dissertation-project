
  <div class="container-fluid reg-page-bg pl-4 pr-4">
    <div class="" *ngIf="showTable && !universityCode">
      <div class="row justify-content-between">
        <div class="col-auto show-button" >
          <label>Show</label>&nbsp;
          <select (ngModelChange)="onChange($event)" [(ngModel)]="pageSize">
            <option *ngFor="let data of tableSize" [value]="data">
              {{ data }}
            </option>
          </select>
          entries
        </div>

        <div class="col-auto ml-4">
          <label>Search:</label>&nbsp;
          <input id="myInput" type="text" [(ngModel)]="searchText"  (keyup)="applyFilter($any($event.target).value)"/>
        </div>
      </div>
      <div class="table-responsive">
        <table class="table mt-2 text-left pe-2">

          <thead>
            <tr>
              <th>AISHE Code</th>
              <th>University Name</th>
              <th>University Type</th>
              <th>State</th>
              <th>District</th>
              <th>Location</th>

            </tr>
          </thead>

          <tbody id="myTable">
            <tr
              *ngFor="
                let data of userDataTable
                  | searchFilter : searchText
                  | paginate
                    : {
                        itemsPerPage: pageSize,
                        currentPage: page
                      };
                let i = index
              "
            >
              <!-- <td>U-{{ data.aishecode }}</td> -->

              <td><a  class="requestIdLink" (click)="openDetails(data)">U-{{ data.aishecode }}</a></td>
              <td>{{ data.name }}</td>
              <td>{{ data.universityType }}</td>
              <td>{{ data.statename }}</td>
              <td>{{ data.districtname }}</td>
              <td>{{data.location}}</td>

            </tr>
          </tbody>
        </table>
      </div>

      <div class="col-md-3" *ngIf="showTable">
        Showing {{ StartLimit + 1 }} to {{ pageData }} Of
        {{ userDataTable.length }} entries
      </div>
      <div class="d-flex justify-content-center" *ngIf="showTable">
        <pagination-controls
          previousLabel="Prev"
          nextLabel="Next"
          (pageChange)="handlePageChange($event)"
        >
      </pagination-controls>
      </div>
      <!--  -->
    </div>

     <!--ALL Data View-->
     <div class="container-fluid reg-page-bg pl-4 pr-4"  *ngIf="showDataTable">
      <div class="row" style="margin-bottom: -2%;margin-top: 5%;">
        <!-- <mat-card-title>Edit College</mat-card-title> -->
        <div class="col-sm-10 d-flex justify-content-between align-items-center">
          <h1 class="insthead position-relative mb-md-4"><span>University Details</span></h1>


        </div>
        <div class="col-sm-2 d-flex justify-content-end mt-2 ml-auto">
          <a (click)="back1()" matTooltip="Back" style="cursor: pointer;" class="text-uppercase"><img src="assets/img/table-back.svg"
            class="table-back me-2" />
            Back
          </a>
        </div>
      </div>


      <!-- address for correspondence are below -->
      <div class="row d-flex justify-content-between">




      <!-- head of institution details are below-->
      <div class="table-responsive-sm mt-2 col-lg-12">
        <table class="table  collegeDetails">
          <thead>
            <tr>
              <th  style="background-color: #aae2ed; color:black" colspan="4">
                <h3 class="text-center"><b>University Details</b></h3>
              </th>
            </tr>
          </thead>
          <tr>
            <td class="text-center col-md-2  tableheading "  style="background-color:#f5efef">
              AISHE Code
            </td>
            <td class="text-center col-md-2 ">U-{{ obj?.id }}</td>
            <td class="text-center col-md-2 tableheading " style="background-color:#f5efef">
               Institute Name
            </td>
            <td class="text-center col-md-3 ">{{ obj?.collegeName }}</td>
          </tr>
          <tr>
            <td class="text-center col-md-2 tableheading " style="background-color:#f5efef">
              State
            </td>
            <td class="text-center col-md-2 ">{{ obj?.collegeState }}</td>
            <td class="text-center col-md-2 tableheading " style="background-color:#f5efef">
              District
            </td>
            <td class="text-center col-md-3 ">{{ obj?.collegeDistrict }}</td>
          </tr>
          <tr>
            <td class="text-center col-md-2 tableheading " style="background-color:#f5efef">
              Location
            </td>
            <!-- <td *ngIf=" obj?.collegeLocation==='U'">Urban</td>
              <td *ngIf=" obj?.collegeLocation==='R'"> Rural</td> -->
            <td class="text-center"> {{obj?.collegeLocation==='U'?'Urban':obj?.collegeLocation==='R'?'Rural':""}}</td>
            <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
              University Type
            </td>
            <td class="text-center col-md-3">{{ obj?.collegeType }}</td>
          </tr>

          <tr>
            <!-- <td class="text-center col-md-2 tableheading " style="background-color:#f5efef" *ngIf="obj?.collegeManagementType">
              Management Type
            </td> -->
            <!-- <td *ngIf=" obj?.collegeLocation==='U'">Urban</td>
              <td *ngIf=" obj?.collegeLocation==='R'"> Rural</td> -->
            <!-- <td class="text-center"  *ngIf="obj?.collegeManagementType"> {{ obj?.collegeManagementType }}</td> -->
            <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
              Address Line1
            </td>
            <td class="text-center col-md-3"> {{ obj?.addressLine1 }}</td>
            <td class="text-center col-md-2 tableheading " style="background-color:#f5efef">
              Pin code
            </td>
                    <td class="text-center col-md-3">{{ obj?.addressPincode }}</td>
          </tr>

          <tr>
            <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
              Address Line2
            </td>
            <td class="text-center"> {{ obj?.addressLine2 }}</td>


          </tr>
          <tr *ngIf="obj?.approvedBy">
            <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
              Created By
            </td>
            <td class="text-center"> {{ obj?.approvedBy }}</td>

            <td class="text-center col-md-2 tableheading " style="background-color:#f5efef">
              Approved Time
            </td>
                    <td class="text-center col-md-3">{{ obj?.approvedTime }}</td>
          </tr>
        </table>
      </div>

      </div>
      <div class="row d-flex justify-content-between mt-2">

        <!-- nodal officer details are below -->
        <div class="table-responsive-sm  col-lg-6">
          <table class="table  collegeDetails">
            <thead >
              <tr>
                <th colspan="4"  >
                  <h3 class="text-center"><b>Nodal Officer Details</b></h3>
                </th>
              </tr>
            </thead>
            <tr>
              <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
                Officer Name
              </td>
              <td class="text-center col-md-2">{{ obj?.nodalOfficesName }}</td>
              <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
                Designation
              </td>
              <td class="text-center col-md-3">{{ obj?.nodalOfficesDesignation }}</td>
            </tr>
            <tr>
              <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
                Email
              </td>
              <td class="text-center col-md-2 ">{{ obj?.nodalOfficesEmail }}</td>
              <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
                Mobile
              </td>
              <td class="text-center col-md-3">{{ obj?.nodalOfficesMobile }}</td>
            </tr>
            <tr>
              <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
                Phone Landline
              </td>
              <td class="text-center col-md-2">{{ obj?.nodalOfficesPhoneLandLine }}</td>
              
            </tr>
          </table>
        </div>

        <div class="table-responsive-sm col-lg-6">
          <table class="table  collegeDetails">
            <thead >
              <tr>
                <th colspan="4"  >
                  <h3 class="text-center"><b>Head of Institution Details</b></h3>
                </th>
              </tr>
            </thead>
            <tr>
              <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
                Officer Name
              </td>
              <td class="text-center col-md-2">{{ obj?.hodname }}</td>
              <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
                Designation
              </td>
              <td class="text-center col-md-3">{{ obj?.hoddesignation }}</td>
            </tr>
            <tr>
              <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
                Email
              </td>
              <td class="text-center col-md-2 ">{{ obj?.hodemail }}</td>
              <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
                Mobile
              </td>
              <td class="text-center col-md-3">{{ obj?.hodmobile }}</td>
            </tr>
            <tr>
              <td class="text-center col-md-2 tableheading" style="background-color:#f5efef">
                Phone Landline
              </td>
              <td class="text-center col-md-2">{{ obj?.hodphoneLandLine }}</td>
          
            </tr>
          </table>
        </div>
      </div>
  </div>
  
   <div *ngIf="showDataTable && (this.sharedservice.role.SysAdmin==this.roleId)" class="container-fluid reg-page-bg">
    <mat-accordion>
      <mat-expansion-panel [expanded]="true" (opened)="panelOpenState = true"
      (closed)="panelOpenState = false" style="display: block;">
        <mat-expansion-panel-header>
          <mat-panel-title><strong>Survey Participation Details </strong></mat-panel-title>
          </mat-expansion-panel-header>
    <table class="table table-bordered table-sm ml-2 mr-2 p-3" *ngIf="lastUpdatedDcfDetails?.length>0">
      <tr>
        <th style="font-size: 16px !important;">S.No.</th>
        <th style="font-size: 16px !important;">Survey Year</th>
        <th style="font-size: 16px !important;">Form Type</th>
        <th style="font-size: 16px !important;">User Id</th>
          <th style="font-size: 16px !important;">Reference Number</th>
          <th style="font-size: 16px !important;">Date of Submission</th>
      </tr>
      <tr *ngFor="let updatedRecord of lastUpdatedDcfDetails;let i=index">
        <td>{{i+1}}</td>
        <td>{{sharedservice.getSurveyYear(updatedRecord.surveyYear)}}</td>
        <td>{{updatedRecord.form.name}}</td>
        <td> {{updatedRecord.uploaderId}} </td>
          <td ><a class="requestIdLink" (click)="updateRecord(updatedRecord,aisheCode,'U')">{{aisheCode}}-{{updatedRecord.surveyYear}}</a></td>
          <td>{{updatedRecord.uploadDateTime}}</td>
      </tr>
  </table>
 

</mat-expansion-panel>
</mat-accordion>



   </div>
 

  </div>





