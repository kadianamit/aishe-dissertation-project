<div class="container-fluid reg-page-bg pl-4 pr-4">
  <div class="form-group">
    <div class="form-row mr-0 ml-0">
      <div class="col-md-12 mt-0 badges p-2 mt-3">
        <div class="float-left">
          <span class="font-weight-bold text-lg">College Management</span>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-12 animated fadeInDown card shadow mb-4 pt-1 pb-2 pr-4 pl-4 bg-light" >
    <mat-tab-group animationDuration="0ms" class="exam-tabing-steps" [(selectedIndex)]="selectedIndex"
      (selectedTabChange)="tabSelected($event)" #tabGroup>
      <mat-tab label="Dashboard">
      </mat-tab>
      <!-- view -->
      <mat-tab label="Approved List" >
       
        <mat-card class="mt-2  card " style="border-radius: 26px;" *ngIf="view ? !view.isView : true">
          <span *ngIf="viewDetailOnly">
          <form [formGroup]="instiForm" (ngSubmit)="findOnView()" *ngIf="view ? !view.isView : true">
            <div class="row">
              <div class="col-md-3"></div>
              <div class="col-md-6">
                <mat-form-field appearance="fill" style="width: 100%;">
                  <mat-label>Search by AISHE-Code or College Name</mat-label>
                  <input matInput formControlName="searchText"
                    (keyup)="seachTextValue();instiForm.controls['surveyYearValue'].setValue('');instiForm.controls['stateValue'].setValue('');instiForm.controls['universityValue'].setValue('');">
                  <!-- <input matInput formControlName="aisheCodeValue" maxlength="7" (keyup)="editCollegeValidation();instiForm.controls['collegeLocation'].setValue('');instiForm.controls['collegeType'].setValue('');"/> -->
                </mat-form-field>
              </div>
              <div class="col-md-3"></div>
            </div>
            <div class="col-md-12" style="display: flex;flex-direction: column;">
              <div class="row mt-4 mx-auto">
                <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label>Survey Year</mat-label>
                    <mat-select  formControlName="surveyYearValue"
                      (selectionChange)="roleId === '7' ? '' :loadState();loadUniversityData();instiForm.controls['searchText'].setValue('');callViewValidation()">
                      <mat-option *ngFor="let year of surveyYearList" [value]="year">{{ year }}</mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                      Please select Survey Year
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field appearance="fill">
                    <mat-label>State</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 formControlName="stateValue"
                      (selectionChange)="instiForm.controls['stateValue'].value !== 'ALL'?loadUniversityData():''">
                      <mat-select-filter *ngIf="select1.focused" [array]="stateList"
                        (filteredReturn)="filterStateList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option [value]="' '" *ngIf="roleId === '26' || roleId === '1'">--ALL--
                      </mat-option>
                      <mat-option *ngFor="let state of filterStateList" [value]="state.stateCode">{{ state.name }}
                      </mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['stateValue'].hasError('required') || instiForm.controls['stateValue'].dirty || instiForm.controls['stateValue'].value || instiForm.controls['stateValue'].touched">
                      Please select State
                    </mat-error>
                  </mat-form-field>

                </div>

                <div class="col-auto" *ngIf="roleId === '6' || roleId === '26' || roleId==='1'">
                  <mat-form-field appearance="fill">
                    <mat-label>University Name</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 formControlName="universityValue">
                      <mat-select-filter *ngIf="select1.focused" [array]="universityList"
                        (filteredReturn)="filtereduniversityList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option [value]="' '" *ngIf="roleId === '26' || roleId === '1'">--ALL--
                      </mat-option>
                      <mat-option *ngFor="let university of filtereduniversityList" [value]="university.id">
                        {{ university.name }}
                      </mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['universityValue'].hasError('required') || instiForm.controls['universityValue'].dirty || instiForm.controls['universityValue'].value || instiForm.controls['universityValue'].touched">
                      Please select University
                    </mat-error>
                  </mat-form-field>
                </div>

                <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label>College Type</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 placeholder="College Type"
                      formControlName="collegeType">
                      <mat-select-filter *ngIf="select1.focused" [array]="collegeTypeData"
                        (filteredReturn)="filteredcollegeTypeData = $event"
                        [displayMember]="'type'"></mat-select-filter>
                      <mat-option [value]="''">--ALL--</mat-option>
                      <mat-option *ngFor="let item of filteredcollegeTypeData" [value]="item.id">
                        {{ item.type }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-auto my-auto">
                  <mat-label style="font-weight: 500;">Select College Location</mat-label>&nbsp;
                  <mat-radio-group aria-label="Select an option" formControlName="collegeLocation">
                    <mat-radio-button [value]="'same'">Same State</mat-radio-button>&nbsp;&nbsp;
                    <mat-radio-button [value]="'others'">Other States</mat-radio-button>
                  </mat-radio-group>
                </div>


              </div>
            </div>
            <div class="row">

              <div Class="col-sm-12 mb-3 text-center ">
                <button class="btn1 btn btn-success btn-sm" type="submit">Find</button>&nbsp;
                <button class="btn1 btn btn-sm btn-danger"
                  (click)="instiForm.reset();filtereduniversityList=[]; view?.findData1(); submitted = false">Reset
                  <!-- <i class="fa fa-refresh" aria-hidden="true"></i> -->
                </button>
              </div>
            </div>
          </form>
          </span>
        </mat-card>

      </mat-tab>
      <!-- Edit -->
      <mat-tab label="Edit" *ngIf="accessibilityData?.cedit">
        <mat-card class="mt-2  card " style="border-radius: 26px;" *ngIf="edit?!edit.isEdit:true">
          <form [formGroup]="instiForm" (ngSubmit)="editData()" *ngIf="edit?!edit.isEdit:true">
            <div class="row">
              <div class="col-md-4"></div>
              <div class="col-md-4">
                <mat-form-field appearance="fill" style="width: 100%;">
                  <mat-label>Survey Year</mat-label>
                  <mat-select formControlName="surveyYearValue" (selectionChange)="loadUniversityData();loadState()"
                    required>
                    <mat-option *ngFor="let year of surveyYearList" [value]="year">{{ year }}</mat-option>
                  </mat-select>
                  <mat-error
                    *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                    Please select Survey Year
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-4"></div>
            </div>
            <span class="card" style="border: 1px solid;">
              <div class="row mt-3">
                <div class="col-md-4"></div>
                <div class="col-md-4">

                  <mat-form-field appearance="fill" style="width: 100%;">
                    <mat-label>AISHE CODE</mat-label>
                    <input matInput formControlName="aisheCodeValue" maxlength="7"
                      (keyup)="editCollegeValidation();instiForm.controls['collegeLocation'].setValue('');instiForm.controls['collegeType'].setValue('');" />
                  </mat-form-field>

                </div>
                <div class="col-md-4"></div>
              </div>

              <div class="row">
                <div class="col-md-12 text-center" style="font-size: 20px;font-weight: 500;">
                  OR
                </div>
              </div>
              <div class="col-md-12" style="display: flex;flex-direction: column;">
                <div class="row mt-4 mx-auto">
                  <!-- <div class="col-auto">
                <mat-form-field appearance="fill">
                  <mat-label>Survey Year</mat-label>
                  <mat-select
                    formControlName="surveyYearValue"
                    (selectionChange)="loadUniversityData()" required
                  >
                    <mat-option
                      *ngFor="let year of surveyYearList"
                      [value]="year"
                      >{{ year }}</mat-option
                    >
                  </mat-select>
                  <mat-error
                  *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                  Please select Survey Year
                </mat-error>
                </mat-form-field>
              </div> -->
                  <!-- <div class="col-auto">
                <mat-form-field appearance="fill">
                  <mat-label>AISHE CODE</mat-label>
                  <input matInput formControlName="aisheCodeValue" (keyup)="editCollegeValidation()"/>
                </mat-form-field>
              </div> -->

                  <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                    <mat-form-field appearance="fill">
                      <mat-label>State</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 formControlName="stateValue"
                        (selectionChange)="loadUniversityData()">
                        <mat-select-filter *ngIf="select1.focused" [array]="stateList"
                          (filteredReturn)="filterStateList = $event" [displayMember]="'name'"></mat-select-filter>
                        <mat-option [value]="' '">All</mat-option>
                        <mat-option *ngFor="let state of filterStateList" [value]="state.stateCode">{{ state.name }}
                        </mat-option>
                      </mat-select>
                      <mat-error
                        *ngIf="instiForm.controls['stateValue'].hasError('required') || instiForm.controls['stateValue'].dirty || instiForm.controls['stateValue'].value || instiForm.controls['stateValue'].touched">
                        Please select State
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-auto" *ngIf="roleId === '6' || roleId === '26' || roleId==='1'">
                    <mat-form-field appearance="fill">
                      <mat-label>University Name</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 formControlName="universityValue"
                        (selectionChange)="instiForm.controls['aisheCodeValue'].setValue('')">
                        <mat-select-filter *ngIf="select1.focused" [array]="universityList"
                          (filteredReturn)="filtereduniversityList = $event"
                          [displayMember]="'name'"></mat-select-filter>
                        <mat-option [value]="' '">All</mat-option>
                        <mat-option *ngFor="let university of filtereduniversityList" [value]="university.id">
                          {{ university.name }}
                        </mat-option>
                      </mat-select>
                      <mat-error
                        *ngIf="instiForm.controls['universityValue'].hasError('required') || instiForm.controls['universityValue'].dirty || instiForm.controls['universityValue'].value || instiForm.controls['universityValue'].touched">
                        Please select University
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-auto">
                    <mat-form-field appearance="fill">
                      <mat-label>College Type</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 placeholder="College Type"
                        formControlName="collegeType">
                        <mat-select-filter *ngIf="select1.focused" [array]="collegeTypeData"
                          (filteredReturn)="filteredcollegeTypeData = $event"
                          [displayMember]="'type'"></mat-select-filter>
                        <mat-option [value]="''">All</mat-option>
                        <mat-option *ngFor="let item of filteredcollegeTypeData" [value]="item.id">
                          {{ item.type }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-auto my-auto">
                    <mat-label style="font-weight: 500;">Select College Location</mat-label>&nbsp;
                    <mat-radio-group aria-label="Select an option" formControlName="collegeLocation">
                      <mat-radio-button [value]="'same'">Same State</mat-radio-button>&nbsp;&nbsp;
                      <mat-radio-button [value]="'others'">Other States</mat-radio-button>
                    </mat-radio-group>
                  </div>
                </div>
              </div>
            </span>
            <div class="row mt-2">
              <div Class="col-sm-12 mb-3 text-center ">
                <button class="btn1 btn btn-success btn-sm" type="submit">Find</button>&nbsp;
                <button class="btn1 btn btn-danger btn-sm"
                  (click)="instiForm.reset(); edit?.DataReset(); submitted = false">Reset
                  <!-- <i class="fa fa-refresh" aria-hidden="true"></i> -->
                </button>
              </div>
            </div>
          </form>
        </mat-card>
      </mat-tab>

      <!--   Approve/Reject  -->
      <mat-tab label="Approve/Reject" *ngIf="accessibilityData?.capproveReject">
        <mat-card class="mt-2  card " style="border-radius: 26px;" *ngIf="approve ? !approve.isApprove : true">
          <form [formGroup]="instiForm" (ngSubmit)="findOnApprove()" *ngIf="approve ? !approve.isApprove : true">
            <div class="row">
              <div class="col-md-4"></div>
              <div class="col-md-4 text-center">
                <mat-form-field appearance="fill">
                  <mat-label>Request Id</mat-label>
                  <input matInput (keypress)="alphaNumberOnly($event)" maxlength="6" formControlName="RequestId"
                    (keyup)="isRequstId();instiForm.controls['collegeType'].setValue('');instiForm.controls['districtValue'].setValue('');instiForm.controls['pendingLevel'].setValue('')" />
                </mat-form-field>
              </div>
              <div class="col-md-4"></div>
            </div>
            <div class="row mt-1 mb-1">
              <div class="col-md-12 text-center" style="font-size: 20px;font-weight: 500;">
                OR
              </div>
            </div>
            <div class="col-md-12" style="display: flex;flex-direction: column;">
              <div class="row mt-4 mx-auto">
                <!-- <div class="col-auto">

              </div> -->
                <!-- MoE and UNO -->
                <div class="col-auto" *ngIf="roleId==='26' || roleId==='1' || roleId==='7' || roleId==='6'">
                  <mat-form-field appearance="fill">
                    <mat-label>Pending Level</mat-label>
                    <mat-select placeholder="MoE Pending"
                      (selectionChange)="instiForm.controls['RequestId'].setValue('');" formControlName="pendingLevel"
                      #select2 [disableOptionCentering]="true">
                      <mat-option *ngFor="let item of pendingLevel" [value]="item.id">
                        {{item.name}}
                      </mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['pendingLevel'].hasError('required') || instiForm.controls['pendingLevel'].dirty || instiForm.controls['pendingLevel'].value || instiForm.controls['pendingLevel'].touched">
                      Please select Pending Level
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label>Survey Year</mat-label>
                    <mat-select formControlName="surveyYearValue"
                      (selectionChange)="loadUniversityData();loadState();instiForm.controls['RequestId'].setValue('')">
                      <mat-option *ngFor="let year of surveyYearList" [value]="year">{{ year }}</mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                      Please select Survey Year
                    </mat-error>
                  </mat-form-field>
                </div>


                <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field appearance="fill">
                    <mat-label>State</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 formControlName="stateValue"
                      (selectionChange)="loadDistrict($event);loadUniversityData()">
                      <mat-select-filter *ngIf="select1.focused" [array]="stateList"
                        (filteredReturn)="filterStateList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option [value]="''">All</mat-option>
                      <mat-option *ngFor="let state of filterStateList" [value]="state.stateCode">{{ state.name }}
                      </mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['stateValue'].hasError('required') || instiForm.controls['stateValue'].dirty || instiForm.controls['stateValue'].value || instiForm.controls['stateValue'].touched">
                      Please select Survey Year
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-auto" *ngIf="roleId === '6' || roleId === '26' || roleId==='1'">
                  <mat-form-field appearance="fill">
                    <mat-label>University Name</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 formControlName="universityValue">
                      <mat-select-filter *ngIf="select1.focused" [array]="universityList"
                        (filteredReturn)="filtereduniversityList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option [value]="' '">ALL</mat-option>
                      <mat-option *ngFor="let university of filtereduniversityList" [value]="university.id">
                        {{ university.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field appearance="fill">
                    <mat-label>District</mat-label>
                    <mat-select [disableOptionCentering]="true" #select12 formControlName="districtValue">
                      <mat-select-filter *ngIf="select12.focused" [array]="districtList"
                        (filteredReturn)="filterDistrictList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option *ngFor="let district of filterDistrictList" [value]="district.distCode">{{
                        district.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>

                <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label>College Type</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 placeholder="College Type"
                      formControlName="collegeType">
                      <mat-select-filter *ngIf="select1.focused" [array]="collegeTypeData"
                        (filteredReturn)="filteredcollegeTypeData = $event"
                        [displayMember]="'type'"></mat-select-filter>
                      <mat-option [value]="''">All</mat-option>
                      <mat-option *ngFor="let item of filteredcollegeTypeData" [value]="item.id">
                        {{ item.type }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field class="d-block">
                    <mat-label>From Date:</mat-label>
                    <input matInput [matDatepicker]="picker1" readonly placeholder="From Date"
                      formControlName="fromDate" (focus)="picker1.open()">
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker-toggle matSuffix (click)="instiForm.controls['fromDate'].setValue(null)">
                      <mat-icon matDatepickerToggleIcon>clear</mat-icon>
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                  </mat-form-field>
                </div>
                <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field class="d-block">
                    <mat-label>To Date:</mat-label>
                    <input matInput [matDatepicker]="picker2" readonly placeholder="From Date" formControlName="toDate"
                      [min]="instiForm.controls['fromDate'].value" (focus)="picker2.open()">
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker-toggle matSuffix (click)="instiForm.controls['toDate'].setValue(null)">
                      <mat-icon matDatepickerToggleIcon>clear</mat-icon>
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                  </mat-form-field>
                </div>
                <!-- <div class="col-auto">
                <mat-form-field appearance="fill">
                  <mat-label>Status</mat-label>
                  <mat-select
                    placeholder="Status"
                    formControlName="collegeType"
                  >

                    <mat-option
                      *ngFor="let item of filteredcollegeTypeData"
                      [value]="item.id"
                    >
                      {{ item.type }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div> -->
              </div>
            </div>
            <div class="row">
              <div Class="col-sm-12 mb-3 text-center">
                <button class="btn1 btn btn-success btn-sm" type="submit">Find</button>&nbsp;
                <button class="btn1 btn btn-danger btn-sm"
                  (click)="instiForm.reset({});approve?.resetData(); this.filterDistrictList=[]; submitted = false">
                  Reset
                </button>
              </div>
            </div>
          </form>
        </mat-card>
      </mat-tab>

      <!-- Affiliate -->
      <mat-tab label="Affiliate" *ngIf="accessibilityData?.caffiliate">
        <mat-card class="mt-2  card " style="border-radius: 26px;" *ngIf="affiliate ? !affiliate.isAffiliate : true">
          <form [formGroup]="instiForm" (ngSubmit)="findOnAffiliate()"
            *ngIf="affiliate ? !affiliate.isAffiliate : true">
            <div class="row">
              <div class="col-md-4"></div>
              <div class="col-md-4 text-center">
                <!-- <mat-form-field appearance="fill" style="width: 100%;">
                  <mat-label>Survey Year</mat-label>
                  <mat-select
                    formControlName="surveyYearValue" required
                    (selectionChange)="roleId === '7' ? '' : loadUniversityData()"
                  >
                    <mat-option
                      *ngFor="let year of surveyYearList"
                      [value]="year"
                      >{{ year }}</mat-option
                    >
                  </mat-select>
                  <mat-error
                  *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                  Please select Survey Year
                </mat-error>
                </mat-form-field> -->
              </div>
              <div class="col-md-4"></div>
            </div>
            <span class="card" style="border: 1px solid;">
              <div class="row mt-1">
                <div class="col-md-4"></div>
                <div class="col-md-4  text-center">
                  <mat-form-field appearance="fill" style="width: 100%;">
                    <mat-label>AISHE CODE</mat-label>
                    <input matInput formControlName="aisheCodeValue" maxlength="7"
                      (keyup)="findThrougAisheCodeAffiliate();instiForm.controls['districtValue'].setValue('') " />
                  </mat-form-field>
                </div>
                <div class="col-md-4"></div>
              </div>
              <div class="row mt-1 mb-1">
                <div class="col-md-12 text-center" style="font-size: 20px;font-weight: 500;">
                  OR
                </div>
              </div>
              <div class="col-md-12" style="display: flex;flex-direction: column;">
                <div class="row mt-4 mx-auto">
                  <!-- <div class="col-auto">
                              <mat-form-field appearance="fill">
                                <mat-label>Survey Year</mat-label>
                                <mat-select
                                  formControlName="surveyYearValue"
                                  (selectionChange)="roleId === '7' ? '' : loadUniversityData()"
                                >
                                  <mat-option
                                    *ngFor="let year of surveyYearList"
                                    [value]="year"
                                    >{{ year }}</mat-option
                                  >
                                </mat-select>
                                <mat-error
                                *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                                Please select Survey Year
                              </mat-error>
                              </mat-form-field>
                            </div> -->
                  <!-- <div class="col-auto">
                              <mat-form-field appearance="fill" >
                                <mat-label>AISHE CODE</mat-label>
                                <input matInput formControlName="aisheCodeValue" (keyup)="findThrougAisheCodeAffiliate()" />
                              </mat-form-field>
                            </div> -->
                  <div class="col-auto" *ngIf="roleId === '26' || roleId==='1' || roleId==='7' || roleId==='6' ">
                    <mat-form-field appearance="fill">
                      <mat-label>State</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 formControlName="stateValue"
                        (selectionChange)="loadDistrict($event);instiForm.controls['aisheCodeValue'].setValue('')">
                        <mat-select-filter *ngIf="select1.focused" [array]="stateList"
                          (filteredReturn)="filterStateList = $event" [displayMember]="'name'"></mat-select-filter>
                        <mat-option [value]="' '">All</mat-option>
                        <mat-option *ngFor="let state of filterStateList" [value]="state.stateCode">{{ state.name }}
                        </mat-option>
                      </mat-select>
                      <mat-error
                        *ngIf="instiForm.controls['stateValue'].hasError('required') || instiForm.controls['stateValue'].dirty || instiForm.controls['stateValue'].value || instiForm.controls['stateValue'].touched">
                        Please select State
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-auto" *ngIf="roleId ==='26' || roleId==='1' || roleId==='7'|| roleId==='6'">
                    <mat-form-field appearance="fill">
                      <mat-label>District</mat-label>
                      <mat-select [disableOptionCentering]="true" #select12 formControlName="districtValue"
                        (selectionChange)="instiForm.controls['aisheCodeValue'].setValue('')">
                        <mat-select-filter *ngIf="select12.focused" [array]="districtList"
                          (filteredReturn)="filterDistrictList = $event" [displayMember]="'name'"></mat-select-filter>
                        <mat-option [value]="' '">All</mat-option>
                        <mat-option *ngFor="let district of filterDistrictList" [value]="district.distCode">{{
                          district.name }}
                        </mat-option>
                      </mat-select>
                      <mat-error
                        *ngIf="instiForm.controls['districtValue'].hasError('required') || instiForm.controls['districtValue'].dirty || instiForm.controls['districtValue'].value || instiForm.controls['districtValue'].touched">
                        Please select State
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <!-- <div class="col-auto" *ngIf="roleId === '6' || roleId === '26' || roleId==='1'">
                              <mat-form-field appearance="fill">
                                <mat-label>University Name</mat-label>
                                <mat-select  [disableOptionCentering]="true" #select1 (selectionChange)="instiForm.get('aisheCodeValue')?.setValue('')"
                                formControlName="universityValue" >
                                  <mat-select-filter *ngIf="select1.focused"
                                    [array]="universityList"
                                    (filteredReturn)="filtereduniversityList = $event"
                                    [displayMember]="'name'"
                                  ></mat-select-filter>
                                  <mat-option
                                    *ngFor="let university of filtereduniversityList"
                                    [value]="university.id"
                                  >
                                    {{ university.name }}
                                  </mat-option>
                                </mat-select>
                                <mat-error
                                *ngIf="instiForm.controls['universityValue'].hasError('required') || instiForm.controls['universityValue'].dirty || instiForm.controls['universityValue'].value || instiForm.controls['universityValue'].touched">
                                Please select University
                              </mat-error>
                              </mat-form-field>
                            </div> -->

                  <div class="col-auto">
                    <mat-form-field appearance="fill">
                      <mat-label>College Type</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 placeholder="College Type"
                        formControlName="collegeType">
                        <mat-select-filter *ngIf="select1.focused" [array]="collegeTypeData"
                          (filteredReturn)="filteredcollegeTypeData = $event"
                          [displayMember]="'type'"></mat-select-filter>
                        <mat-option [value]="''">All</mat-option>
                        <mat-option *ngFor="let item of filteredcollegeTypeData" [value]="item.id">
                          {{ item.type }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-auto">
                    <mat-form-field appearance="fill">
                      <mat-label>De-affiliation Reason</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 placeholder="De-affiliation Reason"
                        formControlName="reasonId">
                        <mat-select-filter *ngIf="select1.focused" [array]="dataDeaffiliation"
                          (filteredReturn)="filterDeaffiliation = $event" [displayMember]="'name'"></mat-select-filter>
                        <mat-option *ngFor="let item of filterDeaffiliation" [value]="item.id">
                          {{ item.name }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>


                </div>


              </div>
            </span>
            <div class="row mt-2">
              <div Class="col-sm-12 mb-3 text-center">
                <button type="submit" class="btn1 btn btn-sm btn-success" type="submit">Find</button>&nbsp;
                <button type="button" class="btn1 btn btn-sm btn-danger"
                  (click)="instiForm.reset({});  submitted = false" (click)="resetform()">
                  <!-- <i class="fa fa-refresh" aria-hidden="true"></i> -->
                  Reset
                </button>
              </div>
            </div>
          </form>
        </mat-card>
      </mat-tab>

      <!-- De-Affiliate -->
      <mat-tab label="De-Affiliate" *ngIf="accessibilityData?.cdeaffiliate">
        <mat-card class="mt-2  card " style="border-radius: 26px;"
          *ngIf="deAffiliateChild?!deAffiliateChild.isDeAffiliate:true">
          <form [formGroup]="instiForm" (ngSubmit)="findOnDeAffiliate()"
            *ngIf="deAffiliateChild?!deAffiliateChild.isDeAffiliate:true">
            <div class="row">
              <div class="col-md-4"></div>
              <div class="col-md-4  text-center">
                <mat-form-field appearance="fill" style="width: 100%;">
                  <mat-label>Survey Year</mat-label>
                  <mat-select formControlName="surveyYearValue" required
                    (selectionChange)="loadUniversityData();loadState()">
                    <mat-option *ngFor="let year of surveyYearList" [value]="year">{{ year }}</mat-option>
                  </mat-select>
                  <mat-error
                    *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                    Please select Survey Year
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-4"></div>
            </div>
            <span class="card" style="border: 1px solid;">
              <div class="row mt-1">
                <div class="col-md-4"></div>
                <div class="col-md-4  text-center">
                  <mat-form-field appearance="fill" style="width: 100%;">
                    <mat-label>AISHE CODE</mat-label>
                    <input matInput formControlName="aisheCodeValue" maxlength="7"
                      (keyup)="findThrougAisheCodeDeAffiliate();instiForm.controls['collegeLocation'].setValue('')" />
                  </mat-form-field>
                </div>
                <div class="col-md-4"></div>
              </div>
              <div class="row mt-1 mb-1">
                <div class="col-md-12 text-center" style="font-size: 20px;font-weight: 500;">
                  OR
                </div>
              </div>
              <div class="col-md-12" style="display: flex;flex-direction: column;">
                <div class="row mt-4 mx-auto">
                  <div class="col-auto">

                  </div>
                  <!-- <div class="col-auto">
                <mat-form-field appearance="fill">
                  <mat-label>AISHE CODE</mat-label>
                  <input matInput formControlName="aisheCodeValue" (keyup)="findThrougAisheCodeDeAffiliate()"/>
                </mat-form-field>
              </div> -->

                  <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                    <mat-form-field appearance="fill">
                      <mat-label>State</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 formControlName="stateValue"
                        (selectionChange)="loadUniversityData()">
                        <mat-select-filter *ngIf="select1.focused" [array]="stateList"
                          (filteredReturn)="filterStateList = $event" [displayMember]="'name'"></mat-select-filter>
                        <mat-option [value]="' '">All</mat-option>
                        <mat-option *ngFor="let state of filterStateList" [value]="state.stateCode">{{ state.name }}
                        </mat-option>
                      </mat-select>
                      <mat-error
                        *ngIf="instiForm.controls['stateValue'].hasError('required') || instiForm.controls['stateValue'].dirty || instiForm.controls['stateValue'].value || instiForm.controls['stateValue'].touched">
                        Please select State
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-auto" *ngIf="roleId === '6' || roleId === '26' || roleId==='1'">
                    <mat-form-field appearance="fill">
                      <mat-label>University Name</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 formControlName="universityValue"
                        (selectionChange)="instiForm.get('aisheCodeValue')?.setValue('')">
                        <mat-select-filter *ngIf="select1.focused" [array]="universityList"
                          (filteredReturn)="filtereduniversityList = $event"
                          [displayMember]="'name'"></mat-select-filter>
                        <mat-option [value]="' '">All</mat-option>
                        <mat-option *ngFor="let university of filtereduniversityList" [value]="university.id">
                          {{ university.name }}
                        </mat-option>
                      </mat-select>
                      <mat-error
                        *ngIf="instiForm.controls['universityValue'].hasError('required') || instiForm.controls['universityValue'].dirty || instiForm.controls['universityValue'].value || instiForm.controls['universityValue'].touched">
                        Please select University
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-auto">
                    <mat-form-field appearance="fill">
                      <mat-label>College Type</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 placeholder="College Type"
                        formControlName="collegeType">
                        <mat-select-filter *ngIf="select1.focused" [array]="collegeTypeData"
                          (filteredReturn)="filteredcollegeTypeData = $event"
                          [displayMember]="'type'"></mat-select-filter>
                        <mat-option [value]="''">All</mat-option>
                        <mat-option *ngFor="let item of filteredcollegeTypeData" [value]="item.id">
                          {{ item.type }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-auto my-auto">
                    <mat-label style="font-weight: 500;">Select College Location</mat-label>&nbsp;
                    <mat-radio-group aria-label="Select an option" formControlName="collegeLocation">
                      <mat-radio-button [value]="'same'">Same State</mat-radio-button>&nbsp;&nbsp;
                      <mat-radio-button [value]="'others'">Other States</mat-radio-button>
                    </mat-radio-group>
                  </div>

                </div>
              </div>
            </span>
            <div class="row mt-2">
              <div Class="col-sm-12 text-center mb-3">
                <button class="btn1 btn btn-sm btn-success" type="submit">Find</button>&nbsp;
                <button class="btn1 btn btn-sm btn-danger"
                  (click)="instiForm.reset({}); deAffiliateChild?.resetData1(); submitted = false">Reset
                  <!-- <i class="fa fa-refresh" aria-hidden="true"></i> -->
                </button>
              </div>
            </div>
          </form>
        </mat-card>
      </mat-tab>
      <!-- Shift university -->
      <mat-tab label="Shift University" *ngIf="accessibilityData?.shiftUniversity">
        <mat-card class="mt-2  card " style="border-radius: 26px;"
          *ngIf="deAffiliateChild?!deAffiliateChild.isDeAffiliate:true">
          <form [formGroup]="instiForm" (ngSubmit)="findOnDeAffiliateDe()"
            *ngIf="deAffiliateChild?!deAffiliateChild.isDeAffiliate:true">
            <div class="row">
              <div class="col-md-4"></div>
              <div class="col-md-4  text-center">
                <mat-form-field appearance="fill" style="width: 100%;">
                  <mat-label>Survey Year</mat-label>
                  <mat-select formControlName="surveyYearValue" required
                    (selectionChange)="loadUniversityData();loadState()">
                    <mat-option *ngFor="let year of surveyYearList" [value]="year">{{ year }}</mat-option>
                  </mat-select>
                  <mat-error
                    *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                    Please select Survey Year
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-4"></div>
            </div>
            <span class="card" style="border: 1px solid;">
              <div class="row mt-1">
                <div class="col-md-4"></div>
                <div class="col-md-4  text-center">
                  <mat-form-field appearance="fill" style="width: 100%;">
                    <mat-label>AISHE CODE</mat-label>
                    <input matInput formControlName="aisheCodeValue" maxlength="7"
                      (keyup)="findThrougAisheCodeDeAffiliate();instiForm.controls['collegeLocation'].setValue('')" />
                  </mat-form-field>
                </div>
                <div class="col-md-4"></div>
              </div>
              <div class="row mt-1 mb-1">
                <div class="col-md-12 text-center" style="font-size: 20px;font-weight: 500;">
                  OR
                </div>
              </div>
              <div class="col-md-12" style="display: flex;flex-direction: column;">
                <div class="row mt-4 mx-auto">
                  <div class="col-auto">

                  </div>
                  <!-- <div class="col-auto">
                <mat-form-field appearance="fill">
                  <mat-label>AISHE CODE</mat-label>
                  <input matInput formControlName="aisheCodeValue" (keyup)="findThrougAisheCodeDeAffiliate()"/>
                </mat-form-field>
              </div> -->

                  <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                    <mat-form-field appearance="fill">
                      <mat-label>State</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 formControlName="stateValue"
                        (selectionChange)="loadUniversityData()">
                        <mat-select-filter *ngIf="select1.focused" [array]="stateList"
                          (filteredReturn)="filterStateList = $event" [displayMember]="'name'"></mat-select-filter>
                        <mat-option [value]="' '">All</mat-option>
                        <mat-option *ngFor="let state of filterStateList" [value]="state.stateCode">{{ state.name }}
                        </mat-option>
                      </mat-select>
                      <mat-error
                        *ngIf="instiForm.controls['stateValue'].hasError('required') || instiForm.controls['stateValue'].dirty || instiForm.controls['stateValue'].value || instiForm.controls['stateValue'].touched">
                        Please select State
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-auto" *ngIf="roleId === '6' || roleId === '26' || roleId==='1'">
                    <mat-form-field appearance="fill">
                      <mat-label>University Name</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 formControlName="universityValue"
                        (selectionChange)="instiForm.get('aisheCodeValue')?.setValue('')">
                        <mat-select-filter *ngIf="select1.focused" [array]="universityList"
                          (filteredReturn)="filtereduniversityList = $event"
                          [displayMember]="'name'"></mat-select-filter>
                        <mat-option [value]="' '">All</mat-option>
                        <mat-option *ngFor="let university of filtereduniversityList" [value]="university.id">
                          {{ university.name }}
                        </mat-option>
                      </mat-select>
                      <mat-error
                        *ngIf="instiForm.controls['universityValue'].hasError('required') || instiForm.controls['universityValue'].dirty || instiForm.controls['universityValue'].value || instiForm.controls['universityValue'].touched">
                        Please select University
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-auto">
                    <mat-form-field appearance="fill">
                      <mat-label>College Type</mat-label>
                      <mat-select [disableOptionCentering]="true" #select1 placeholder="College Type"
                        formControlName="collegeType">
                        <mat-select-filter *ngIf="select1.focused" [array]="collegeTypeData"
                          (filteredReturn)="filteredcollegeTypeData = $event"
                          [displayMember]="'type'"></mat-select-filter>
                        <mat-option [value]="''">All</mat-option>
                        <mat-option *ngFor="let item of filteredcollegeTypeData" [value]="item.id">
                          {{ item.type }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-auto my-auto">
                    <mat-label style="font-weight: 500;">Select College Location</mat-label>&nbsp;
                    <mat-radio-group aria-label="Select an option" formControlName="collegeLocation">
                      <mat-radio-button [value]="'same'">Same State</mat-radio-button>&nbsp;&nbsp;
                      <mat-radio-button [value]="'others'">Other States</mat-radio-button>
                    </mat-radio-group>
                  </div>

                </div>
              </div>
            </span>
            <div class="row mt-2">
              <div Class="col-sm-12 text-center mb-3">
                <button class="btn1 btn btn-sm btn-success" type="submit">Find</button>&nbsp;
                <button class="btn1 btn btn-sm btn-danger"
                  (click)="instiForm.reset({}); deAffiliateChild?.resetData1(); submitted = false">Reset
                  <!-- <i class="fa fa-refresh" aria-hidden="true"></i> -->
                </button>
              </div>
            </div>
          </form>
        </mat-card>
      </mat-tab>

      <!-- Approved list -->
      <mat-tab label="Approved/Rejected List" *ngIf="(roleId !=='1') && (roleId !=='26')">
        <form [formGroup]="instiForm" (ngSubmit)="findOnApprovedList()"
          *ngIf="approvelist ? !approvelist.isApproveList : true">
          <div class="row mt-4" style="justify-content: center">
            <div class="col-sm-4">
              <mat-form-field appearance="fill" style="display: block">
                <mat-label>Survey Year</mat-label>
                <mat-select formControlName="surveyYearValue">
                  <mat-option *ngFor="let year of surveyYearAllList" [value]="year.surveyYear">{{
                    year.surveyYearValue}}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-sm-2">
              <button class="btn1 btn btn-success btn-sm" type="submit">Find</button>&nbsp;
              <button class="btn1 btn btn-danger btn-sm"
                (click)="resetform(); approvelist?.resetForm1(); submitted = false">Reset
                <!-- <i class="fa fa-refresh" aria-hidden="true"></i> -->
              </button>
            </div>
          </div>
        </form>
      </mat-tab>


      <!--merge college  -->
      <mat-tab *ngIf="accessibilityData?.cmerge" label="Merging Colleges">
        <form [formGroup]="instiForm" (ngSubmit)="mergeColleges()" *ngIf="merge ? !merge.isMerge : true">
          <div class="col-md-12">
            <div class="col-md-12" style="display: flex;flex-direction: column;">
              <div class="row mt-4 mx-auto">
                <!-- <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label >Select year</mat-label>

                    <mat-select  [disableOptionCentering]="true" #select1 required   formControlName="surveyYearValue" (selectionChange)="loadUniversityData()">
                      <mat-select-filter *ngIf="select1.focused" [placeholder]="'Filter'" [displayMember]="'surveyYearValue'"
                      [array]="surveyYearOption" (filteredReturn)="surveyYearAllList =$event"></mat-select-filter>
                    <mat-option *ngFor="let item of surveyYearAllList" [value]="item.surveyYearValue">
                      {{item.surveyYearValue}}
                    </mat-option>
                    </mat-select>
                    <mat-error
                    *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                    Please select Survey Year
                  </mat-error>

                  </mat-form-field>
                </div> -->
                <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field appearance="fill">
                    <mat-label>State</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 formControlName="stateValue"
                      (selectionChange)="loadUniversityData();loadDistrict($event);">
                      <mat-select-filter *ngIf="select1.focused" [array]="stateList"
                        (filteredReturn)="filterStateList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option [value]="' '">All</mat-option>
                      <mat-option *ngFor="let state of filterStateList" [value]="state.stateCode">{{ state.name }}
                      </mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['stateValue'].hasError('required') || instiForm.controls['stateValue'].dirty || instiForm.controls['stateValue'].value || instiForm.controls['stateValue'].touched">
                      Please select State
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field appearance="fill">
                    <mat-label>University</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 formControlName="universityValue">
                      <mat-select-filter *ngIf="select1.focused" [array]="universityList"
                        (filteredReturn)="filtereduniversityList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option *ngFor="let university of filtereduniversityList" [value]="university.id">
                        {{ university.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-auto" *ngIf="roleId ==='26' || roleId==='1' || roleId==='7'|| roleId==='6'">
                  <mat-form-field appearance="fill">
                    <mat-label>District</mat-label>
                    <mat-select [disableOptionCentering]="true" #select12 formControlName="districtValue"
                      (selectionChange)="instiForm.controls['aisheCodeValue'].setValue('')">
                      <mat-select-filter *ngIf="select12.focused" [array]="districtList"
                        (filteredReturn)="filterDistrictList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option *ngFor="let district of filterDistrictList" [value]="district.distCode">{{
                        district.name }}
                      </mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['districtValue'].hasError('required') || instiForm.controls['districtValue'].dirty || instiForm.controls['districtValue'].value || instiForm.controls['districtValue'].touched">
                      Please select State
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label>College Type</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 placeholder="College Type"
                      formControlName="collegeType">
                      <mat-select-filter *ngIf="select1.focused" [array]="collegeTypeData"
                        (filteredReturn)="filteredcollegeTypeData = $event"
                        [displayMember]="'type'"></mat-select-filter>
                      <mat-option [value]="''">All</mat-option>
                      <mat-option *ngFor="let item of filteredcollegeTypeData" [value]="item.id">
                        {{ item.type }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>


                <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label>De-affiliation Reason</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 placeholder="De-affiliation Reason"
                      formControlName="reasonId">
                      <mat-select-filter *ngIf="select1.focused" [array]="dataDeaffiliation"
                        (filteredReturn)="filterDeaffiliation = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option *ngFor="let item of filterDeaffiliation" [value]="item.id">
                        {{ item.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>

              </div>
            </div>
            <div class="row">
              <div Class="col-sm-12 text-center mb-3">
                <button class="btn1 btn btn-sm btn-success" type="submit">Find</button>&nbsp;
                <button class="btn1 btn btn-sm btn-danger"
                  (click)="resetform(); merge?.resetData(); submitted = false">Reset
                  <!-- <i class="fa fa-refresh" aria-hidden="true"></i> -->
                </button>
              </div>
            </div>
          </div>

        </form>
      </mat-tab>
      <!-- delete -->
      <mat-tab *ngIf="accessibilityData?.cdelete" label="Delete">
        <form [formGroup]="instiForm" (ngSubmit)="deleteCollegeData()">
          <span class="card" style="border: 1px solid;">
            <div class="row mt-1">
              <div class="col-md-4"></div>
              <div class="col-md-4  text-center">
                <mat-form-field appearance="fill" style="width: 100%;">
                  <mat-label>AISHE CODE</mat-label>
                  <input matInput formControlName="aisheCodeValue" maxlength="7"
                    (keyup)="findThrougAisheCodeAffiliate();instiForm.controls['stateValue'].setValue('');instiForm.controls['districtValue'].setValue('');instiForm.controls['reasonId'].setValue('') " />
                </mat-form-field>
              </div>
              <div class="col-md-4"></div>
            </div>
            <div class="row mt-1 mb-1">
              <div class="col-md-12 text-center" style="font-size: 20px;font-weight: 500;">
                OR
              </div>
            </div>
            <div class="col-md-12" style="display: flex;flex-direction: column;">
              <div class="row mt-4 mx-auto">
                <!-- <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label>Survey Year</mat-label>
                    <mat-select
                      formControlName="surveyYearValue"
                      (selectionChange)="loadUniversityData()" required
                    >
                      <mat-option
                        *ngFor="let year of surveyYearAllList"
                        [value]="year.surveyYear"
                        > {{year.surveyYearValue}}</mat-option
                      >
                    </mat-select>
                    <mat-error
                    *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                    Please select Survey Year
                  </mat-error>
                  </mat-form-field>
                </div> -->
                <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field appearance="fill">
                    <mat-label>State</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 formControlName="stateValue"
                      (selectionChange)="loadUniversityData();loadDistrict($event);">
                      <mat-select-filter *ngIf="select1.focused" [array]="stateList"
                        (filteredReturn)="filterStateList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option [value]="' '">All</mat-option>
                      <mat-option *ngFor="let state of filterStateList" [value]="state.stateCode">{{ state.name }}
                      </mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['stateValue'].hasError('required') || instiForm.controls['stateValue'].dirty || instiForm.controls['stateValue'].value || instiForm.controls['stateValue'].touched">
                      Please select State
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-auto" *ngIf="roleId ==='26' || roleId==='1' || roleId==='7'|| roleId==='6'">
                  <mat-form-field appearance="fill">
                    <mat-label>District</mat-label>
                    <mat-select [disableOptionCentering]="true" #select12 formControlName="districtValue"
                      (selectionChange)="instiForm.controls['aisheCodeValue'].setValue('')">
                      <mat-select-filter *ngIf="select12.focused" [array]="districtList"
                        (filteredReturn)="filterDistrictList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option [value]="' '">All</mat-option>
                      <mat-option *ngFor="let district of filterDistrictList" [value]="district.distCode">{{
                        district.name }}
                      </mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['districtValue'].hasError('required') || instiForm.controls['districtValue'].dirty || instiForm.controls['districtValue'].value || instiForm.controls['districtValue'].touched">
                      Please Select District
                    </mat-error>
                  </mat-form-field>
                </div>

                <!-- <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field appearance="fill">
                    <mat-label> De-affiliating University</mat-label>
                    <mat-select  [disableOptionCentering]="true" #select1
                    formControlName="universityValue">
                      <mat-select-filter *ngIf="select1.focused"
                        [array]="universityList"
                        (filteredReturn)="filtereduniversityList = $event"
                        [displayMember]="'name'"
                      ></mat-select-filter>
                      <mat-option
                        *ngFor="let university of filtereduniversityList"
                        [value]="university.id"
                      >
                        {{ university.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div> -->
                <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label>College Type</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 placeholder="College Type"
                      formControlName="collegeType">
                      <mat-select-filter *ngIf="select1.focused" [array]="collegeTypeData"
                        (filteredReturn)="filteredcollegeTypeData = $event"
                        [displayMember]="'type'"></mat-select-filter>
                      <mat-option [value]="''">All</mat-option>
                      <mat-option *ngFor="let item of filteredcollegeTypeData" [value]="item.id">
                        {{ item.type }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>

                <!-- <div class="col-sm-2">
                  <mat-form-field appearance="fill">
                    <mat-label>De-affiliation Reason</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1
                      placeholder="De-affiliation Reason:"
                      formControlName="collegeType"
                    >
                      <mat-select-filter *ngIf="select1.focused"
                        [array]="collegeTypeData"
                        (filteredReturn)="filteredcollegeTypeData = $event"
                        [displayMember]="'type'"
                      ></mat-select-filter>
                      <mat-option
                        *ngFor="let item of filteredcollegeTypeData"
                        [value]="item.id"
                      >
                        {{ item.type }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div> -->
                <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label>De-affiliation Reason</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 placeholder="De-affiliation Reason"
                      formControlName="reasonId">
                      <mat-select-filter *ngIf="select1.focused" [array]="dataDeaffiliation"
                        (filteredReturn)="filterDeaffiliation = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option *ngFor="let item of filterDeaffiliation" [value]="item.id">
                        {{ item.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>





              </div>
            </div>
            <!-- <div class="row">
                <div Class="col-sm-12 text-center mb-3">

                </div>
              </div> -->

          </span>
          <div class="row mt-2">
            <div Class="col-sm-12 mb-3 text-center">
              <button class="btn1 btn btn-sm btn-success" type="submit">Find</button>&nbsp;
              <button class="btn1 btn btn-sm btn-danger"
                (click)="resetform(); deleteCollege?.findData1(); submitted = false">Reset
                <!-- <i class="fa fa-refresh" aria-hidden="true"></i> -->
              </button>
            </div>
          </div>

        </form>
      </mat-tab>

      <!-- Upgrade to University -->
      <mat-tab *ngIf="accessibilityData?.ctoU" label="Upgrade to University">
        <form [formGroup]="instiForm" (ngSubmit)="upgradeUniversityData()"
          *ngIf="upgradeUniversity?!upgradeUniversity.isupgradeUniversity : true">
          <span class="card" style="border: 1px solid;">
            <div class="row mt-1">
              <div class="col-md-4"></div>
              <div class="col-md-4  text-center">
                <mat-form-field appearance="fill" style="width: 100%;">
                  <mat-label>AISHE CODE</mat-label>
                  <input matInput formControlName="aisheCodeValue" maxlength="7"
                    (keyup)="findThrougAisheCodeAffiliate();instiForm.controls['stateValue'].setValue('');instiForm.controls['districtValue'].setValue('');instiForm.controls['reasonId'].setValue('') " />
                </mat-form-field>
              </div>
              <div class="col-md-4"></div>
            </div>
            <div class="row mt-1 mb-1">
              <div class="col-md-12 text-center" style="font-size: 20px;font-weight: 500;">
                OR
              </div>
            </div>
            <div class="col-md-12" style="display: flex;flex-direction: column;">
              <div class="row mt-4 mx-auto">
                <!-- <div class="col-auto">
                              <mat-form-field appearance="fill">
                                <mat-label>Survey Year</mat-label>
                                <mat-select
                                  formControlName="surveyYearValue"
                                  (selectionChange)="loadUniversityData()" required
                                >
                                  <mat-option
                                    *ngFor="let year of surveyYearAllList"
                                    [value]="year.surveyYear"
                                    >{{ year.surveyYearValue }}</mat-option
                                  >
                                </mat-select>
                                <mat-error
                                *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                                Please select Survey Year
                              </mat-error>
                              </mat-form-field>
                            </div> -->
                <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field appearance="fill">
                    <mat-label>State</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 formControlName="stateValue"
                      (selectionChange)="loadDistrict($event);">
                      <mat-select-filter *ngIf="select1.focused" [array]="stateList"
                        (filteredReturn)="filterStateList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option [value]="' '">All</mat-option>
                      <mat-option *ngFor="let state of filterStateList" [value]="state.stateCode">{{ state.name }}
                      </mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['stateValue'].hasError('required') || instiForm.controls['stateValue'].dirty || instiForm.controls['stateValue'].value || instiForm.controls['stateValue'].touched">
                      Please select State
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-auto" *ngIf="roleId ==='26' || roleId==='1' || roleId==='7'|| roleId==='6'">
                  <mat-form-field appearance="fill">
                    <mat-label>District</mat-label>
                    <mat-select [disableOptionCentering]="true" #select12 formControlName="districtValue"
                      (selectionChange)="instiForm.controls['aisheCodeValue'].setValue('')">
                      <mat-select-filter *ngIf="select12.focused" [array]="districtList"
                        (filteredReturn)="filterDistrictList = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option [value]="' '">All</mat-option>
                      <mat-option *ngFor="let district of filterDistrictList" [value]="district.distCode">{{
                        district.name }}
                      </mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['districtValue'].hasError('required') || instiForm.controls['districtValue'].dirty || instiForm.controls['districtValue'].value || instiForm.controls['districtValue'].touched">
                      Please select State
                    </mat-error>
                  </mat-form-field>
                </div>

                <!-- <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                              <mat-form-field appearance="fill">
                                <mat-label> De-affiliating University</mat-label>
                                <mat-select [disableOptionCentering]="true" #select1
                                formControlName="universityValue">
                                  <mat-select-filter *ngIf="select1.focused"
                                    [array]="universityList"
                                    (filteredReturn)="filtereduniversityList = $event"
                                    [displayMember]="'name'"
                                  ></mat-select-filter>
                                  <mat-option
                                    *ngFor="let university of filtereduniversityList"
                                    [value]="university.id"
                                  >
                                    {{ university.name }}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div> -->
                <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label>College Type</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 placeholder="College Type"
                      formControlName="collegeType">
                      <mat-select-filter *ngIf="select1.focused" [array]="collegeTypeData"
                        (filteredReturn)="filteredcollegeTypeData = $event"
                        [displayMember]="'type'"></mat-select-filter>
                      <mat-option [value]="''">All</mat-option>
                      <mat-option *ngFor="let item of filteredcollegeTypeData" [value]="item.id">
                        {{ item.type }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <!-- <div class="col-sm-2">
                              <mat-form-field appearance="fill">
                                <mat-label>De-affiliation Reason</mat-label>
                                <mat-select [disableOptionCentering]="true" #select1
                                  placeholder="De-affiliation Reason:"
                                  formControlName="collegeType"
                                >
                                  <mat-select-filter *ngIf="select1.focused"
                                    [array]="collegeTypeData"
                                    (filteredReturn)="filteredcollegeTypeData = $event"
                                    [displayMember]="'type'"
                                  ></mat-select-filter>
                                  <mat-option
                                    *ngFor="let item of filteredcollegeTypeData"
                                    [value]="item.id"
                                  >
                                    {{ item.type }}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div> -->
                <div class="col-auto">
                  <mat-form-field appearance="fill">
                    <mat-label>De-affiliation Reason</mat-label>
                    <mat-select [disableOptionCentering]="true" #select1 placeholder="De-affiliation Reason"
                      formControlName="reasonId">
                      <mat-select-filter *ngIf="select1.focused" [array]="dataDeaffiliation"
                        (filteredReturn)="filterDeaffiliation = $event" [displayMember]="'name'"></mat-select-filter>
                      <mat-option *ngFor="let item of filterDeaffiliation" [value]="item.id">
                        {{ item.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>




              </div>
            </div>
          </span>
          <div class="row mt-2">
            <div Class="col-sm-12 text-center mb-3">
              <button class="btn1 btn btn-sm btn-success" type="submit">Find</button>&nbsp;
              <button class="btn1 btn btn-sm btn-danger"
                (click)="resetform(); upgradeUniversity?.resetbutton(); submitted = false">Reset
                <!-- <i class="fa fa-refresh" aria-hidden="true"></i> -->
              </button>
            </div>
          </div>
        </form>
      </mat-tab>

      <!-- Report -->

      <mat-tab label="Rejected List"
        *ngIf="roleId === sharedservice.role['SysAdmin'] || roleId === sharedservice.role['Ministry of Education']">
        <div class="animated fadeInDown card bg-light mt-2" *ngIf="!showRejectDetail">
          <form [formGroup]="instiForm">
            <div class="row col-md-12 overflow-hidden">
              <div class="col-md-2 pt-4">
                <label>Show</label>&nbsp;
                <select [(ngModel)]="sharedservice.pageSize" (ngModelChange)="onChange($event)" [ngModelOptions]="{standalone: true}">
                  <option *ngFor="let data of sharedservice.pageSizeOptions" [value]="data">{{data}}</option>
                </select>
                entries
              </div>
              <div class="col-sm-2 pt-4">
                <mat-form-field appearance="fill" style="display: block">
                  <mat-label>Survey Year</mat-label>
                  <mat-select formControlName="surveyYearValue">
                    <mat-option *ngFor="let year of surveyYearAllList" [value]="year.surveyYear">{{
                      year.surveyYearValue}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-sm-1 pt-4">
                <button class="btn1 btn btn-success btn-sm" type="submit" (click)="getRejectedList()">Find</button>
              </div>
              <div class="col-sm-2"></div>
              <div class="col-md-5 pt-4">
                <label>Search:</label>&nbsp;
                <input type="text" size="40" id='myInput' (change)="updateResults()" (keyup)="updateResults()"
                  [(ngModel)]="searchText" [ngModelOptions]="{standalone: true}">
              </div>
            </div>

          </form>
        </div>
          <div class="table-responsive" *ngIf="!showRejectDetail">
            <table class="table text-left">
              <thead>
                <tr>
                  <th>S.No</th>
                  <th>Request Id</th>
                  <th>College Name</th>
                  <th>Type</th>
                   <th>Reject Date</th>
                   <th>Action By</th>
                  <th>Remarks</th>
                </tr>
              </thead>
              <tbody id="myTable">
                <tr *ngFor="let item of alldata | paginate : {
                  itemsPerPage: sharedservice.pageSize,
                  currentPage: sharedservice.page
                
                };
          let i = index
          ">
          
                  <td>{{i+sharedservice.StartLimit+1}}</td>
                  <td><a href="javascript:void(0)" (click)="sendDetailRequest(item.requestId)">{{item.requestId}}</a></td>
                  <td>{{item.name}}</td>
                  <td>{{item.institutionTypeName}}</td>
                  <td>{{item.actionOn}}</td>
                  <td>{{item.actionBy}}</td>
                  <td>{{item.remarks}}</td>

                </tr>
              </tbody>
          
            </table>
            <div class="col-md-3">
              Showing {{sharedservice.StartLimit + 1}} to {{sharedservice.pageData === -1?0:sharedservice.pageData}} Of {{tempUserList.length}}
              entries
            </div>
            <div class="d-flex justify-content-center" >
              <pagination-controls previousLabel="Prev" nextLabel="Next" (pageChange)="handlePageChange($event)">
              </pagination-controls>
          
            </div>
         </div>
         <app-reject-detail (statusChanged)="onStatusChanged($event)" [requestDetail]="rejectedRequestId" *ngIf="showRejectDetail"></app-reject-detail>
      </mat-tab>
      <mat-tab class="report-university" label="View-Log" *ngIf="accessibilityData?.report">

        <!-- <app-university-report *ngIf="showReport"></app-university-report> -->
        <form [formGroup]="instiForm" (ngSubmit)="findReport('CollegeReport')">
          <div class="col-md-12">
            <div class="col-md-12" style="display: flex;flex-direction: column;">
              <div class="row  mt-4 mx-auto">

                <div class="col-auto" style="text-align: end;">
                  <mat-form-field class="d-block">
                    <mat-label>Survey Year</mat-label>
                    <mat-select formControlName="surveyYearValue" required>
                      <mat-option *ngFor="let year of surveyYearAllList"
                        [value]="year.surveyYear">{{year.surveyYearValue}}</mat-option>
                    </mat-select>
                    <mat-error
                      *ngIf="instiForm.controls['surveyYearValue'].hasError('required') || instiForm.controls['surveyYearValue'].dirty || instiForm.controls['surveyYearValue'].value || instiForm.controls['surveyYearValue'].touched">
                      Please select Survey Year
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field class="d-block">
                    <mat-label>From Date:</mat-label>
                    <input matInput [matDatepicker]="picker1" readonly placeholder="From Date"
                      formControlName="fromDate" (focus)="picker1.open()">
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker-toggle matSuffix (click)="instiForm.controls['fromDate'].setValue(null)">
                      <mat-icon matDatepickerToggleIcon>clear</mat-icon>
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                  </mat-form-field>
                </div>
                <div class="col-auto" *ngIf="roleId === '26' || roleId==='1'">
                  <mat-form-field class="d-block">
                    <mat-label>To Date:</mat-label>
                    <input matInput [matDatepicker]="picker2" readonly placeholder="From Date" formControlName="toDate"
                      [min]="instiForm.controls['fromDate'].value" (focus)="picker2.open()">
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker-toggle matSuffix (click)="instiForm.controls['toDate'].setValue(null)">
                      <mat-icon matDatepickerToggleIcon>clear</mat-icon>
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                  </mat-form-field>
                </div>


              </div>
            </div>
            <div class="row">
              <div Class="col-sm-12 text-center mb-3">
                <button type="submit" class="btn1 btn btn-sm btn-success">Find</button>&nbsp;
                <button type="button" class="btn1 btn btn-sm btn-danger"
                  (click)="instiForm.reset();showReport?.resetData()">Reset
                  <!-- <i
                    class="fa fa-refresh" aria-hidden="true"></i> -->
                </button>
              </div>
            </div>
          </div>

        </form>

      </mat-tab>

    </mat-tab-group>
  </div>
</div>

<app-data-view #view [instiFormData]="instiForm" *ngIf="selectedIndexView"></app-data-view>
<app-data-list #edit [instiFormData]="instiForm" *ngIf="selectedIndexEdit"></app-data-list>
<app-approve #approve [instiFormData]="instiForm" *ngIf="selectedIndexApprove"></app-approve>
<app-new-affiliation #affiliate [instiFormData]="instiForm" *ngIf="selectedIndexAffiliate"></app-new-affiliation>
<app-de-affiliate #deAffiliateChild [instiFormData]="instiForm" [DeAffiliateFormData]=passValue
  *ngIf="selectedIndexDeAffiliate && selectedIndex ===5"></app-de-affiliate>

<app-de-affiliate #deAffiliateChild [instiFormData]="instiForm" [DeAffiliateFormData]=passValue
  *ngIf="selectedIndexDeAffiliateAff"></app-de-affiliate>

<app-approved-university-list #approvelist [instiFormData]="instiForm"
  *ngIf="selectedIndexApproveList"></app-approved-university-list>

<app-deletecollege #deleteCollege [instiFormData]="instiForm" *ngIf="selectedIndexDelete">
</app-deletecollege>

<app-upgrade-university #upgradeUniversity [instiFormData]="instiForm" *ngIf="selectedIndexUpgradeUniversity">
</app-upgrade-university>

<app-mergecolleges #merge *ngIf="selectIndexMerge" [instiFormData]="instiForm">

</app-mergecolleges>
<app-institutional-report #Reports [instiFormData]="instiForm" *ngIf="showReportIndex"></app-institutional-report>
<app-institution-management-dashboard [message]="type" *ngIf="selectedIndex === 0"></app-institution-management-dashboard>

