<div class="container-fluid reg-page-bg pl-4 pr-4 pb-4">
    <div class="animated fadeInDown card shadow mb-4 pl-3 pr-3 pb-4">
        <!-- <div class="card shadow mb-4 pl-3 pr-3 pb-4"> -->
            <!-- <div class="form">
                <div class="form-row"> -->
                   
            <div class="dynamic-table-head shadow mb-2">
                <label class="note">Please submit this feedback form only if you have any
                    problem filling out the Web DCF.
                </label>
                <form [formGroup]="feedBack">
                    <div class="row col-md-12 overflow-hidden mt-2">
                        <div class="col-md-12">
                            <label class="font-weight-semibold text-sm asterisk_input">Is the Feedback generic in nature
                                or any specific module of the Web-DCF?</label>&nbsp;
                            <mat-radio-group formControlName="genericordcf">
                                <mat-radio-button [value]=true>Yes
                                </mat-radio-button>&nbsp;
                                <mat-radio-button [value]=false>No
                                </mat-radio-button>
                            </mat-radio-group>
                        </div>
                    </div>
                    <div class="row col-md-12 overflow-hidden">
                        <div class="col-md-4" *ngIf="feedBack.controls['genericordcf'].value === false">
                            <mat-form-field class="d-block">
                                <mat-label>Menu:</mat-label>
                                <mat-select formControlName="menu" (selectionChange)="getSubMenu($event.value)"
                                    required>
                                    <mat-option *ngFor="let item of menuList"
                                        [value]="item.menuName">{{item.menuName}}</mat-option>
                                </mat-select>
                                <mat-error
                                    *ngIf="feedBack.controls['menu'].hasError('required') || feedBack.controls['menu'].dirty || feedBack.controls['menu'].value || feedBack.controls['menu'].touched">
                                    Please select.
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4" *ngIf="feedBack.controls['genericordcf'].value === false">
                            <mat-form-field class="d-block">
                                <mat-label>SubMenu:</mat-label>
                                <mat-select formControlName="submenu" required
                                    (selectionChange)="getPageList($event.value)">
                                    <mat-option *ngFor="let item of subMenuList"
                                        [value]="item.subMenu">{{item.subMenu}}</mat-option>
                                </mat-select>
                                <mat-error
                                    *ngIf="feedBack.controls['submenu'].hasError('required') || feedBack.controls['submenu'].dirty || feedBack.controls['submenu'].value || feedBack.controls['submenu'].touched">
                                    Please select.
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4" *ngIf="feedBack.controls['genericordcf'].value === false">
                            <mat-form-field class="d-block">
                                <mat-label>Page:</mat-label>
                                <mat-select formControlName="page" required>
                                    <mat-option *ngFor="let item of pageList"
                                        [value]="item.tabName">{{item.tabName}}</mat-option>
                                </mat-select>
                                <mat-error
                                    *ngIf="feedBack.controls['page'].hasError('required') || feedBack.controls['page'].dirty || feedBack.controls['page'].value || feedBack.controls['page'].touched">
                                    Please select.
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-md-12">
                            <mat-form-field class="d-block" appearance="fill">
                                <mat-label>Leave a comment</mat-label>
                                <textarea matInput rows="10" cols="10" #comment required
                                    (keypress)="onKeypressEvent($event,2000)" formControlName="remarks"
                                    autocomplete="off"></textarea>
                                <mat-hint align="end">{{comment.value.length}} / 2000</mat-hint>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="text-center">
                        <button type="submit" class="btn btn-success btn-sm mr-1"
                            (click)="saveFeedBack(feedBack.value)">{{saveOrUpdate}}</button>
                        <button class="btn btn-danger btn-sm" (click)="reset()">Reset</button>
                    </div>

                </form>
            </div>

            <div class="row col-md-12 overflow-hidden mb-2">
                <div class="col-md-2 pt-4">
                    <label>Show</label>&nbsp;
                    <select [(ngModel)]="sharedService.pageSize" (ngModelChange)="onChange($event)">
                        <option *ngFor="let data of sharedService.pageSizeOptions" [value]="data">{{data}}</option>
                    </select>
                    entries
                </div>
                <div class="col-md-5"></div>
                <div class="col-md-5 pt-4">
                    <label>Search:</label>&nbsp;
                    <input type="text" size="45" id='myInput' (change)="updateResults()" (keyup)="updateResults()"
                        [(ngModel)]="searchText">
                </div>

            </div>
            <div class="col-md-12">
                <ng-container>
                    <table class="table table-bordered table-sm custom-table text-center">
                        <thead>
                            <tr>
                                <th>S.No</th>
                                <th>Menu</th>
                                <th>SubMenu</th>
                                <th>Page</th>
                                <th>Remarks</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let data of feedbackList | paginate : {
                                itemsPerPage: sharedService.pageSize,
                                currentPage: sharedService.page
                              
                              };
                        let i = index
                        ">
                                <td>{{i+sharedService.StartLimit+1}}</td>
                                <td>{{data.menu?data.menu:'NA'}}</td>
                                <td>{{data.submenu?data.submenu:'NA'}}</td>
                                <td>{{data.page?data.page:'NA'}}</td>
                                <td>{{data.remarks}}</td>
                                <td><button mat-icon-button class="green-icon ml-3" (click)="edit(data)">
                                        <mat-icon matTooltip="Edit">
                                            edit</mat-icon>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </ng-container>

            </div>
        <!-- </div> -->

    </div>
</div>